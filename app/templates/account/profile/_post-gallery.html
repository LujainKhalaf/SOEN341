{% from "components/post/upload_first_post.html" import upload_first_post with context %}
{% from "components/post/post_modal.html" import post_modal with context %}

<div class="row row-cols-3 post-gallery">

{% if user.posts|length > 0 %}
    {% for post in user.posts %}
        <div class="col" id="post-grid-item-{{ post.post_id }}">
            <div class="gallery-item" data-bs-toggle="modal" data-bs-target="#post-modal-{{ post.post_id }}">
                <img src="{{ post.image_url }}" class="gallery-image" alt="">
                <div class="gallery-item-info">
                    <ul>
    {#                TODO: Uncomment when implementing comments #}
    {#                    <li class="gallery-item-comments"><i class="fas fa-comment" aria-hidden="true"></i> 2</li>#}
                        {% if is_me %}
                            <li class="gallery-item-delete" data-post-id="{{ post.post_id }}" onclick="deletePost(this);"><i class="fas fa-trash" aria-hidden="true"></i>
                        {% endif %}
                    </ul>
                </div>
            </div>
        </div>

        <!-- Post Modal -->
        {{ post_modal(user, post) }}

    {% endfor %}
    {{ upload_first_post("invisible") }}
{% else %}
    {% if is_me %}
        {{ upload_first_post("visible") }}
    {% else %}
        <div id="no-posts" class="no-posts-yet">
            <div style="text-align: center">
                <i class="bi bi-camera"></i>
            </div>
            <h1 class="no-posts-yet-title">No Posts Yet</h1>
        </div>
    {% endif %}
{% endif %}



</div>
